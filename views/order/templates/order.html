{% extends "base.html" %}

{% block content %}

<div class="pt-2">
	<div class="container py-2">
		<h2 class="text-center">Order Management</h2>
	</div>

	<div class="py-2" id="order_icons">
		<a class="btn btn-success" href="#" role="button">Orders</a>
		<a class="btn btn-success" href="{{ url_for('order_views.make_counter_order') }}" role="button">Counter</a>
	</div>

	{% with messages = get_flashed_messages() %}
	    {% if messages %}
	    	<div class="success">
			{{ messages[0] }}
		</div>
	    {% endif %}
	{% endwith %}

	<table class="table table-dark">
	<thead>
		<tr>
		<th scope="col"></th>
		<th scope="col">Date</th>
		<th scope="col">Order no.</th>
      		<th scope="col">Waiter Name</th>
		<th scope="col">Table</th>
      		<th scope="col">Counter</th>
		<th scope="col">Tender</th>
		<th scope="col">Amount (Ksh)</th>
    		</tr>
	</thead>
	<tbody>
		{% for order in all_orders %}
		<tr>
			<th scope="row"></th>
			<td>{{ order.created_at }}</td>
			<td>{{ order.order_number }}</td>
			<td>{{ order.waiter }}</td>
			<td>{{ order.table }}</td>
			<td>{{ order.counter }}</td>
			<td>{{ order.tender }}</td>
			<td>{{ order.total }}</td>
		</tr>
		{% endfor %}
		<tr>
			<th scope="row"></th>
			<td scope="row"><b>Total = {{ number_of_orders }}</b></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</tbody>
 
	</table>
</div>

{% endblock %}
